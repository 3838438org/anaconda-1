2005-05-25  Chris Lumens  <clumens@redhat.com>

	* iw/lvm_dialog_gui.py:  Use sizes of PV requests instead of
	preexisting PVs on volume group editor screen (#158696).

2005-05-25  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

2005-05-24  Paul Nasrat <pnasrat@redhat.com>

	* upgrade.py: Blacklist rpmdb-fedora (#158666)

2005-05-24  Chris Lumens  <clumens@redhat.com>

	* packages.py:  Automatically select any conditional packages that
	are required by currently selected groups.  This step used to be only
	needed for parts of language support, but is now needed more widely
	(#154572, #158389).
	* dispatch.py (installSteps):  Likewise.
	* installclass.py (BaseInstallClass.setSteps):  Likewise.
	* upgradeclass.py (BaseInstallClass.setSteps):  Likewise.

2005-05-23  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* constants.py (BETANAG): No betanag for fc4-branch

2005-05-23  Jeremy Katz  <katzj@redhat.com>

	* partedUtils.py (DiskSet.getLabels): Look for labels on all
	fstypes.  

	* loader2/modules.c (loadModule): usb-storage has reached new
	levels of awful and now doesn't enumerate the devices with
	anything approaching a reasonable speed.  Add a sleep to wait for
	some devices to show up

	* isys/isys.py (oldSwapLabelMunge): Munge old swap label format to
	the new version.  Elliot's first pass wasn't accepted upstream so
	we need to try to do some conversion.  We should probably nuke
	this code for FC5 or FC6 (#158195)

	* bootloader.py (writeBootloader): Only update the default if
	we're setting the default to linux (#156678)

	* hdrlist.py (DependencyChecker.callback): Make the comments a
	little clearer

	* upgrade.py (upgradeFindPackages): Ensure we don't leave deps
	stranded that we could have solved (#157754)

	* iw/progress_gui.py (InstallProgressWindow_NEW.setPackage): Limit
	the length of the package installing string to try to avoid
	jumping (#157583)

	* autopart.py (partlist.getFreeSpace): Fix problem Chris and Paul
	saw on Friday where manual partition growing would stop at the
	size of the partition.  When imposing a max size based on the free
	sectors available, it should remember how big the part originally was.

	* kickstart.py (Kickstart.setGroupSelection): Allow excluding
	packages based on arch (Dave Lehman, #158370)

	* loader2/net.c: Don't spew an error if you don't set the wepkey
	or essid (#158223)

	* loader2/module-info: Add megaraid (#157420).  Go through the
	kernel and add other new drivers that I noticed.

2005-05-23  Chris Lumens  <clumens@redhat.com>

	* isys/isys.c:  Left pad UUID chunks with zeros to eight places.

2005-05-20  Paul Nasrat <pnasrat@redhat.com>

	* scripts/upd-instroot: PACKAGESGR for synaptics

2005-05-19  Jeremy Katz  <katzj@redhat.com>

	* loader2/telnetd.c: Switch to using ptys via devpts instead of
	hard-coded ptyp* (#124248)

2005-05-19  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* fsset.py (prepbootFileSystem.__init__): PReP partitions should
	be marked bootable, from Dustin Kirkland.

	* raid.py (availRaidLevels): Allow ppc to have a RAID /boot, from
	Dustin Kirkland.

	* partitions.py (Partitions.getBootableRequest): Split
	PMac/pSeries handling to be different.  pSeries can do bootable
	PReP.  Patch from Dustin Kirkland <dustin.kirkland@us.ibm.com>

	* exception.py (handleException): Just exit on the bdbQuit exception.

	* textw/bootloader_text.py (BootloaderImagesWindow.__call__):
	Support deletion of images in text mode (#125358).  After FC4 goes
	out, we'll want to uncomment the new help line.

2005-05-19  Chris Lumens  <clumens@redhat.com>

	* fsset.py (RAIDDevice.mdadmLine):  Use the UUID instead of the
	super-minor, unless the UUID is somehow not available (#136051).
	* isys/isys.c:  Converted to using kernel MD headers instead of our
	own internal copies.  Return the RAID's UUID from the superblock as
	well.
	* isys/md-int.h:  Don't need this anymore.

2005-05-19  Jeremy Katz  <katzj@redhat.com>

	* loader2/urlinstall.c (loadUrlImages): Use the constant, bumped
	to 192M to try to avoid OOM situations (#157274)

	* loader2/loader.h (GUI_STAGE2_RAM): Add constant for when to do a
	graphical install with stage2.img loaded into RAM.

2005-05-19  Paul Nasrat <pnasrat@redhat.com>

	* scripts/mk-images.ppc, bootdisk/ppc/ofboot.b.auto:
	magic boot for macs

	* scripts/upd-instroot: Include synaptics for x configuration

2005-05-18  Jeremy Katz  <katzj@redhat.com>

	* iw/network_gui.py (NetworkWindow.getNext): Don't depend on 
	class as closely (#158134)

2005-05-17  Bill Nottingham <notting@redhat.com>

	* loader2/method.c: The arch could be up to 65 character;
	a little more storage won't hurt.

2005-05-17  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

2005-05-17  Bill Nottingham  <notting@redhat.com>

	* scripts/mk-images: Add arch to buildstamp...
	
	* loader2/method.c: ... and check it. (#151927)

2005-05-17  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

2005-05-17  Peter Jones  <pjones@redhat.com>

	* loader2/selinux.h: switch from system_u:object_r:anaconda_t to
	system_u:system_r:anaconda_t .

2005-05-16  Jeremy Katz  <katzj@redhat.com>

	* scripts/upd-instroot: Keep email python stuff (#157709)

2005-05-16  Chris Lumens  <clumens@redhat.com>

	* scripts/splittree.py (Timber.createSplitDirs):  Handle traversing
	directories on a symlink (David Kuestler, #157722).
	* scripts/splittree.py (Timber.getSize):  Fix typo, integer overflow
	(David Kuestler, #157721).
	* scripts/splittree.py (usage):  Change example arguments to match
	current number of discs (David Kuestler, #157723).

2005-05-12  Paul Nasrat <pnasrat@redhat.com>

	* upgrade.py: (name, arch) tuples for blacklist
	Add x86_64 perl.i386 to blacklist (#156658)

2005-05-11  Chris Lumens  <clumens@redhat.com>

	* isys/isys.py (compareDrives):  Make drive sorting smarter.

2005-05-10  Jeremy Katz  <katzj@redhat.com>

	* kickstart.py: Remove %installclass support.  It's
	been in the code for five years.  And it's been broken the entire
	time. (#149690)

2005-05-10  Paul Nasrat <pnasrat@redhat.com>

	* kickstart.py: fix thinko

2005-05-06  Chris Lumens  <clumens@redhat.com>

	* autopart.py (doAutoPartition):  Also remove bogus preexisting RAID
	information when doing kickstart installs (#88359).

2005-05-06  Jeremy Katz  <katzj@redhat.com>

	* scripts/upd-instroot: Pretend we have nano too.

2005-05-05  Jeremy Katz  <katzj@redhat.com>

	* loader2/cdinstall.c: Don't load stage2.img into RAM if they boot
	with 'text' (#155398)

2005-05-05  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* scripts/pkgorder: This used EverythingExclude.

2005-05-05  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

2005-05-05  Paul Nasrat <pnasrat@redhat.com>

	* loader2/loader.c: fix typo

2005-05-05  Jeremy Katz  <katzj@redhat.com>

	* scripts/upd-instroot (KEEPFILE): Pull in more selinux policy
	files for dwalsh

2005-05-04  Jeremy Katz  <katzj@redhat.com>
	
	* fsset.py (HfsPlusFileSystem.__init__): Add hfs+ support.

	* autopart.py (growParts): Don't try to grow a partition beyond 
	the size of the largest free space.  Fixes pathological problem 
	hit when installing a dual boot with MacOS X. 

	* hdrlist.py (EverythingExclude): Add the gfs kernel module
	packages to the everything exclude list too... we need to do this
	better :-/ (#156849)

2005-05-04  Chris Lumens  <clumens@redhat.com>

	* packages.py (selectLanguageSupportGroups):  Unselect the language
	support group if no languages besides en_US are supported.

2005-05-03  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

2005-05-03  Chris Lumens  <clumens@redhat.com>

	* autopart.py (doAutoPartition):  Remove bogus preexisting LVM
	information when doing kickstart installs with --onpart for everything
	(#156283, possibly others).
	* partRequests.py (LogicalVolumeRequestSpec.__str__):  Allow the
	resulting string to be put into a call to rhpl.log.

2005-05-03  Bill Nottingham  <notting@redhat.com>

	* loader2/init.c: always reset terminal attributes on ppc (#156411)

2005-05-03  Jeremy Katz  <katzj@redhat.com>

	* anaconda: More pmac X hacking -- look at what the fb is running
	at and use that as the resolution to try.

2005-05-02  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* iw/progress_gui.py (InstallProgressWindow_NEW.setPackage):
	Slightly shorter strings.

	* anaconda: If the monitor doesn't support 800x600, try 1024x768;
	helps with G3 iMac.  Use the same xconfig for post-install as
	during install.  Allow booting with "usefbx" to go back to old
	fbdev X behavior on ppc. (#149188)
	* loader2/loader.c (parseCmdLineFlags): Add usefbx

2005-05-02  Chris Lumens  <clumens@redhat.com>

	* image.py  (NfsIsoInstallMethod.__init__):  Fix parameter passing so
	mounted ISO image installs work again, too.
	* packages.py  (selectLanguageSupportGroups):  Select language support
	package for install-time language.

2005-04-29  Jeremy Katz  <katzj@redhat.com>

	* packages.py (InstallCallback.cb): Switch these back.  Otherwise,
	things are wrong in GUI.  Text mode is just not going to be quite
	right with the text.

	* image.py (CdromInstallMethod.getRPMFilename): Beep when asking
	to insert the CD, not after... 

2005-04-28  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* scripts/upd-instroot (LC_ALL): Don't do the locale trimming in
	an attempt to fix Chinese.
	(KEEPFILEGR): Add bluecurve icons back since we should be 
	using them now.

2005-04-28  Chris Lumens  <clumens@redhat.com>

	* fsset.py (readFstab):  Don't skip bind mounts with an fstype of none
	on upgrades (#151458).

	* harddrive.py (HardDriveInstallMethod.__init__):  Fix parameter
	passing so ISO image installs work again.

2005-04-28  Peter Jones  <pjones@redhat.com>:
	
	* mediacheck.h: add FRAGMENT_SUM_LENGTH here, fix parsepvd prototype.
	* mediacheck.c: remove FRAGMENT_SUM_LENGTH, include mediacheck.h,
	fix some declarations
	* cdinstall.c: fix parsepvd call for new prototype.

2005-04-27  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* installmethod.py (doMethodComplete): Figure out rootfs better
	* dispatch.py (installSteps): Pass id.fsset to methodcomplete.

2005-04-27  Peter Jones  <pjones@redhat.com>

	* installmethod.py (doMethodComplete): write a minimal mtab when
	we're done installing, so fsck/mount don't complain on first boot.

2005-04-27  Jeremy Katz  <katzj@redhat.com>

	* loader2/undomounts.c: Stop error'ing out on umounting of (tmpfs) /dev

	* hdrlist.py (betterPackageForProvides): Nuke debug code.

	* partitions.py (Partitions.setFromDisk): Fix lvs showing up with
	a mountpoint of 0 (#153965)

	* text.py (InstallInterface.messageWindow): Properly return the
	idx of the return on a custom messageWindow

	* image.py (presentRequiredMediaMessage): Add back button for
	required media message (#114770)
	* textw/confirm_text.py (BeginUpgradeWindow.__call__): Likewise.
	(BeginInstallWindow.__call__): Likewise.
	* iw/confirm_gui.py (UpgradeConfirmWindow.getNext) 
	(InstallConfirmWindow.getNext): Likewise.

	* scripts/mk-images.i386: Bump size of diskboot.img
	* scripts/mk-images.x86_64: Likewise.

	* textw/partition_text.py (PartitionWindow.__call__): Give a
	little bit more room for cylinder #s (#119767)

	* gui.py (InstallInterface.run): Don't set SUPPORTED 
	unnecessarily (#155847)
	* language.py (Language.getDefault): Likewise.
	* text.py (InstallInterface.run): Likewise.

	* iutil.py (writeRpmPlatform): patch from Joe Pruett to improve
	rpmarch= support (#101971)

	* iw/ipwidget.py (IPEditor.dehydrate): Make sure people get
	decimal IP addrs.  (#156088)

2005-04-27  Chris Lumens  <clumens@redhat.com>

	* docs/kickstart-docs.txt:  Updated for new --label parameter.
	* fsset.py:  Modify LabelFactory to use kickstart-provided
        filesystem labels if possible, and make up new ones otherwise.
	* kickstart.py:  Recognize --label for the part keyword  (#79832).
	* partRequests.py:  Pass labels between kickstart and requests.

	* language.py (Language.__init__):  Set a default font for bterm and
	none, which only mean something to the loader (#156052).

2005-04-27  Jeremy Katz  <katzj@redhat.com>

	* isys/isys.c (doDevSpaceFree): Apply Jindrich Novy's patch to fix
	space calculation on > 2 TB devices (#155709)

	* cmdline.py (progressDisplay.setPackageStatus): Don't spam about
	package downloads in cmdline mode (#155250)

2005-04-27  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* loader2/hardware.c (detectHardware): Probe macio (pnasrat, #154846)

	* packages.py (InstallCallback.cb): Fix order of retry/reboot (#155884)

2005-04-26  Jeremy Katz  <katzj@redhat.com>

	* isomd5sum/libimplantisomd5.c: Add Dustin Kirkland's patch for
	implanting the isomd5 fragments. 
	* isomd5sum/libcheckisomd5.c: Add Dustin's patch to give slightly
	more verbose output.

	* packages.py (handleMiscPackages): Only select a kernel-smp that
	matches the arch of the primary kernel (#149618).  Remove dead code.

2005-04-26  Chris Lumens  <clumens@redhat.com>

	* anaconda.spec:  Bump version.

2005-04-26  Jeremy Katz  <katzj@redhat.com>

	* image.py (CdromInstallMethod.getRPMFilename): Beep if we need to
	insert a new CD (#109264)

	* harddrive.py (HardDriveInstallMethod.__init__): Do method
	parsing here instead of in anaconda.  Pass intf down.
	* image.py (ImageInstallMethod.__init__): Likewise.
	* image.py (CdromImageInstallMethod.__init__): Likewise.	
	* image.py (NfsInstallMethod.__init__): Likewise.	
	* image.py (NfsISOInstallMethod.__init__): Likewise.
	* installmethod.py (InstallMethod.__init__): Likewise.
	* urlinstall.py (UrlInstallMethod.__init__): Likewise.

	* anaconda: Make method __init__'s all basically act the same

	* hdrlist.py (EverythingExclude): Add kernel-smp-devel and
	kernel-hugemem-devel to the exclude too

2004-04-26  Chris Lumens  <clumens@redhat.com>

	* gui.py (InstallControlWindow.setLanguage):  Work around the buttons
	being drawn in English only.  Thanks to Ronny Buchmann for the patch.
	* iw/language_gui.py  (LanguageWindow.getNext):  Likewise.

	* isys/isys.c (doLoSetup):  Don't overflow the buffer when copying
	over image location in case loopback images are buried (#154715).
	* loader2/method.c (mountLoopback):  Likewise.

2005-04-26  Peter Jones  <pjones@redhat.com>

	* isomd5sum/libcheckisomd5.c: sync the code with loader's version.
	Also check result from read to make sure it's not larger than 
	requested.
	* loader2/mediacheck.c: sync the code with isomd5sum's version.

2005-04-26  Jeremy Katz  <katzj@redhat.com>

	* iw/congrats_gui.py (CongratulationWindow.getScreen): Beep on
	install completion (#116681)

	* text.py (InstallInterface.beep): Add no-op beep method.  Could
	actually do something if newtBell() were bound in snack.

	* cmdline.py (InstallInterface.beep): Add (no-op) beep method.

	* gui.py (InstallInterface.beep): Add beep method.

	* scripts/mk-images.x86_64 (COMMONMODULES): Add pcspkr module.
	* scripts/mk-images.i386 (COMMONMODULES): Likewise.
	
	* loader2/loader.c (main): Load pcspkr module.

2005-04-25  Chris Lumens  <clumens@redhat.com>

	* iw/language_gui.py (LanguageWindow.getNext):  Set language properly
	on CD and nopass installs  (#149688).  Also fixes the button bar
	disappearing on CD installs (#151837).
	* textw/language_text.py  (LanguageWindow.__call__):  Likewise.

2005-04-22  Paul Nasrat <pnasrat@redhat.com>

	* bootloader.py: Upgrade PReP on iSeries as no real bootloader

2005-04-21  Chris Lumens  <clumens@redhat.com>

	* anaconda.spec:  Bump version.

	* autopart.py (doAutoPartition):  Copy filesystem options over for
	preexisting partitions so they show up in /etc/fstab (#97560).
	* fsset.py (FileSystemSetEntry.__str__):  Better output.
	* hdrlist.py (Package.select):  Turn off debugging output (#155611).

2005-04-21  Jeremy Katz  <katzj@redhat.com>

	* partRequests.py (RaidRequestSpec.sanityCheckRaid): Ensure there
	are <= 27 members of the RAID device (#155509)

2005-04-21  Paul Nasrat <pnasrat@redhat.com>

	* instdata.py: Make anaconda-ks.cfg ro

2005-04-20  Chris Lumens  <clumens@redhat.com>

	* isomd5sum/libcheckisomd5.c:  Applied Dustin Kirkland's checkpoint
	fragment sum patch.

2005-04-18  Jeremy Katz  <katzj@redhat.com>

	* iw/progress_gui.py (InstallProgressWindow_NEW.setPackageStatus):
	Mark Downloading for translation properly (#155214)

2005-04-18  Chris Lumens  <clumens@redhat.com>

	* iw/language_gui.py:  Fix traceback (#155103).
	* kickstart.py (KickstartBase.definePartition):  Write out filesystem
	options for regular partitions instead of "--fsoptions".

2005-04-16  Jeremy Katz  <katzj@redhat.com>

	* textw/partition_text.py (AutoPartitionWindow.__call__): Check
	for a drive being selected (#124296)
	* partIntfHelpers.py (mustHaveSelectedDrive): Add UI helper for
	selected drives error.
	* iw/partition_gui.py (AutoPartitionWindow.getNext): Use helper.

	* loader2/kickstart.c: Allow specifying 'mediacheck' in ks.cfg to
	specify mediacheck.
	* loader2/kickstart.h: Define constant.
	* kickstart.py (KickstartBase.readKickstart): Define no-op for
	'mediacheck' keyword for stage2

	* loader2/method.c (queryIsoMediaCheck): Allow mediacheck for 
	kickstart if 'mediacheck' passed on the command line. (#116429)
	* loader2/cdinstall.c (queryCDMediaCheck): Likewise.

2005-04-15  Chris Lumens  <clumens@redhat.com>

	* anaconda.spec:  Bump version.

	* packages.py (selectLanguageSupportGroups):  Select language support
	packages for all requested languages (#153746, #154181).

2005-04-14  Chris Lumens  <clumens@redhat.com>

	* gui.py (growToParent):  Make WrappingLabel wrap (#153071, #154786).
	* iw/examine_gui.py (UpgradeExamineWindow.getScreen):  Don't indent
	the upgrade selection box so much.
	* iw/blpasswidget.py (BootloaderPasswordWidget.__init__):  Don't set
	alignment internally in case this gets wrapped in another alignment.
	* iw/bootloader_main_gui.py (MainBootloaderWindow.getScreen):  Fix
	left alignment on all widgets.
	* iw/network_window.py (NetworkWindow.getScreen):  Fix spacing so UI
	elements don't run off the screen in French translation.
	* iw/osbootwidget.py (OSBootWidget.__init__):  Don't set alignment
	internally in case this gets wrapped in another alignment.
	* ui/anaconda.glade:  Use the correct forward button image.

2005-04-14  Jeremy Katz  <katzj@redhat.com>

	* hdrlist.py (EverythingExclude): Add kernel-xen?-devel too (#154819)

2005-04-13  Chris Lumens  <clumens@redhat.com>

	* instdata.py (InstallData.writeKS):  Decode source URL (#154149).

2005-04-13  Peter Jones  <pjones@redhat.com>

	* scripts/upd-instroot: revert last week's nptl hack

2005-04-13  Chris Lumens  <clumens@redhat.com>

	* anaconda:  Always set a default language.
	* gui.py  (InstallInterface.run):  Set supported languages.  Use
	Language's search path instead of making our own.
	* installclass.py  (BaseInstallClass.setLanguageSupport):  Use
	language nicknames instead of regular names.
	* language.py:  Use language nicknames throughout.  Have canonLangNick
	return en_US.UTF-8 if the nickname isn't found.  Set up the runtime
	language properly even if the installtime langauge is not supported by
	anaconda  (#152404).
	* loader2/loader.c (main):  Set LC_COLLATE=C.
	* text.py:  Use Language's search patch instead of making our own.
	Use language nicknames throughout.  Set supported languages.

2005-04-13  Peter Jones  <pjones@redhat.com>

	* scripts/upd-instroot: add libaudit to the graphical environment,
	because the new Xorg needs it.

2005-04-12  Jeremy Katz  <katzj@redhat.com>

	* isys/wireless.c: Free'ing mem from alloca() can be bad (#129058)

	* scripts/upd-initrd: Add simple stupid script to update the
	loader in an initrd to make my life easier.

	* upgrade.py (upgradeFindPackages): Fix message (#154552)

	* rescue.py (runRescue): Fix rescue mode network enabling (#153961)

2005-04-11  Jeremy Katz  <katzj@redhat.com>

	* iw/progress_gui.py (InstallProgressWindow_NEW.setPackage): Cut
	summary off at a reasonable length to avoid changing the screen
	layout (#154459)

2005-04-11  Peter Jones  <pjones@redhat.com>

	* anaconda.spec: Bump version.
	* language.py (Language.CanonLangNick): Always return some value;
	if the input language isn't in the list, use en_US.UTF-8
	* upgrade.py (bindMountDevDirectory): function that does bind mounting
	of /dev to /mnt/sysimage/dev, so there are devices there.
	* upgrade.py (upgradeMountFileSystems): mount dev once we've found
	the new root directory.

2005-04-11  Jeremy Katz  <katzj@redhat.com>

	* partitioning.py (partitioningComplete): Don't try to do
	early swap in test mode and use yesno instead of okcancel (msw)

2005-04-10  Jeremy Katz  <katzj@redhat.com>

	* gui.py (ExceptionWindow.__init__): Fix typo (menthos, #154324)

2005-04-08  Bill Nottingham  <notting@redhat.com>

	* bootdisk/i386/param.msg: Choose something more reasonable memory-wise
	* bootdisk/x86_64/param.msg: Likewise

2005-04-08  Chris Lumens  <clumens@redhat.com>

	* loader2/init.c (createDevices):  Use the right flag for creating
	block devices (#152381, #154132).
	* loader2/net.c (setupNetworkDeviceConfig):  Don't free a string we
	need later. (#149871, #150844, #153072)

2005-04-07  Bill Nottingham  <notting@redhat.com>

	* scripts/upd-instroot: fix default theme, take 2 (#154153)

2005-04-07  Peter Jones  <pjones@redhat.com>

	* scripts/upd-instroot: put ncurses into the text images.

2005-04-07  Bill Nottingham <notting@redhat.com>

	* scripts/upd-instroot: Need redhat-artwork for the default gtkrc.
	I suppose we could write one inline as well.

2005-04-07  Peter Jones  <pjones@redhat.com>

	* scripts/upd-instroot: - Move the linuxthreads stuff around some,
	to stop bogus error messages.  
	- move readline to KEEPFILES/PACKAGES, not GR
	- bump version

2005-04-07  Chris Lumens  <clumens@redhat.com>

	* scripts/upd-instroot:  Move /usr/lib/locale/* into KEEPFILE so we
	have it around for running build-locale-archive.  Also add
	/usr/share/locale/locale.alias.

2005-04-06  Elliot Lee  <sopwith@redhat.com>

	* textw/language_text.py: The language display is now in English
	names instead of nicknames - make this a reality in more of the code.
	* iw/language_gui.py: Ditto

2005-04-06  Chris Lumens  <clumens@redhat.com>

	* language.py (Language.setDefault):  Don't set SYSFONTACM.

2005-04-06  Peter Jones  <pjones@redhat.com>

	* anaconda.spec: bump version

	* scripts-upd-instroot: avoid removing libraries that aren't the ones
	in obsolete/linuxthreads/

2005-04-05  Peter Jones  <pjones@redhat.com>

	* anaconda.spec:  Bump version.

	* scripts/upd-instroot: pull libc, libm, libpthreads, and librt from
	/lib/obsolete/linuxthreads/ if it's there, unless called with --nptl .
	This flag may not come before --debug, and must come before --comps .
	Hopefully we can revert this soon :/

2005-04-05  Chris Lumens  <clumens@redhat.com>

	* anaconda.spec:  Bump version.

	* language.py (Language.setDefault):  Use canonicalized nick
	(#153656).
	* scripts/mk-images:  Don't delete anaconda-runtime before it's
	needed.
	* scripts/upd-instroot:  Fix path to chroot.

2005-04-05  Elliot Lee  <sopwith@redhat.com>

	* anaconda: import encodings.idna to fix #153754

2005-04-04  Chris Lumens  <clumens@redhat.com>

	* kickstart.py (KickstartBase.doLangSupport):  Don't skip a step that
	doesn't exist.
	* loader2/lang.c (setLangEnv):  Change font case to match lang-table.

2005-04-04  Chris Lumens  <clumens@redhat.com>

	* anaconda.spec:  Bump version.

	* language.py (Language.__init__):  Add settings for the 'C' locale to
	prevent a traceback when building an RPM.

2005-04-02  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* Makefile: Fix makefile deps and clean target.

2005-04-01  Chris Lumens  <clumens@redhat.com>

	* anaconda.spec:  Bump version.

	* iw/language_support_gui.py:  Removed.
	* dispatch.py:  Removed reference to LanguageSupportWindow.
	* gui.py:  Likewise.
	* textw/language_text.py:  Likewise.

	* installclass.py (BaseInstallClass.setLanguageSupport):  Don't add
	duplicate entries to supported list.
	* language.py:  Fix traceback on kickstart language support.
	* language.py (Language.setDefault):  Remove dependance on
	langInfoByName.
	* text.py (InstallInterface.run):  Use language nick instead of name.

2005-04-01  Jeremy Katz  <katzj@redhat.com>

	* scripts/upd-instroot: Lots of cleanup to try to get things
	smaller, including:
	 Creating a locale-archive and using that instead of /usr/lib/locale.
	 Removal of old unneeded packages.
	 Removal of bits of the standard python library that aren't needed.
	 Removal of pyc files from stage2.img as well.

	* scripts/mk-images: Do some cleanup of images before we create them.

	* scripts/upd-instroot (PACKAGESGR): Add missing indic font packages
	(LC_ALL): Use build-locale-archive to try to reduce the amount of
	space needed for stage2

2005-03-31  Elliot Lee  <sopwith@redhat.com>

	* scripts/splittree.py: s/srcdiscs/src_discs/

2005-03-31  Chris Lumens  <clumens@redhat.com>

	* language.py (InstallTimeLanguage.__init__):  Set default language
	settings so we get a useful /etc/sysconfig/i18n on manual installs
	(#149688).
	* language.py (InstallTimeLanguage.__init__):  Fix time zones.

	* language.py:  Renamed class to Language.
	* instdata.py:  Likewise.
	* scripts/getlangnames.py:  Likewise.

	* iw/network_gui.py  (NetworkWindow.setHostOptionsSensitivity): Make
	sure automatic hostname option isn't greyed out when using a static IP
	for installation (#149116).

2005-03-30  Jeremy Katz  <katzj@redhat.com>
	
	* anaconda.spec: Bump version.

	* bootdisk/ppc/yaboot.conf.mac: Nuke maxcpus=1
	* bootdisk/ppc/yaboot.conf.pseries: Likewise.
	* scripts/mk-images.ia64 (image): Likewise.

2005-03-30  Elliot Lee  <sopwith@redhat.com>

	* language.py (expandLangs): s/str/astring/ - as the name of 
	the string type, 'str' is a pseudo-reserved word in python.

2005-03-30  Chris Lumens  <clumens@redhat,com>

	* language.py (InstallTimeLanguage.setSupported):  supported is a list
	of language names, not nicknames.
	* language.py (InstallTimeLanguage.setDefault):  Fix check for if we
	got a match or not.

	* loader2/lang.c (loadLanguageList):  Language names may now contain
	spaces, which sscanf splits on.  Change what it's looking for.
	* loader2/lang.c (setLangEnv):  Don't set $LANG to the language's name.

2005-03-29  Chris Lumens  <clumens@redhat.com>

	* language.py (InstallTimeLanguage.__init__):  Fix string split.

2005-03-29  Jeremy Katz  <katzj@redhat.com>

	* loader2/lang.c: Oops, remove debug printf

	* anaconda.spec: Bump version.

	* scripts/buildinstall (PRODUCTPATH): Fix silly tree build problem

	* anaconda.spec: Bump version.

	* scripts/Makefile: Old file go away.

2005-03-29  Chris Lumens  <clumens@redhat.com>

	* anaconda.spec:  Bump version.

	* language.py (InstallTimeLanguage.__init__):  Split on tabs.
	* scripts/genlocalelist.py, scripts/getlangnames.py: Updated for
	lang-table format change.  Also, delimit fields with tabs to make
	splitting easier.

2005-03-29  Jeremy Katz  <katzj@redhat.com>

	* product.py (bugUrl): Clean up .buildstamp reading, read in bug url

	* constants.py (bugzillaUrl): Make bug url a per-product characteristic.

	* scripts/buildinstall: Allow passing in bug url on the command
	line.
	* scripts/mk-images: Likewise, and use it to populate .buildstamp.

	* text.py: Make topline match the loader.

	* anaconda: Remove essentially unused config file data code,
	product.img basically supplanted this.
	* Makefile: Likewise.
	* cmdline.py: Likewise.
	* gui.py: Likewise.
	* text.py: Likewise.

	* dispatch.py: Likewise.
	* instdata.py: Likewise.
	* splashscreen.py: Likewise.
	* iw/welcome_gui.py: Likewise.
	* textw/welcome_text.py: Likewise.
	
	* anaconda.conf: Remove file.
	* configFileData.py: Likewise.
	* readConfigFile.py: Likewise.

	* constants.py: Fix traceback

	* bootdisk/sparc/*: Remove out of date sparc files.

	* anaconda: Product name fixup
	* bootdisk/ppc/bootinfo.txt: Likewise.
	* loader2/linuxrc.s390: Likewise.

	* scripts/buildinstall (PRODUCTPATH): Product path simplification.
	* scripts/pkgorder: Likewise.
	* scripts/mk-rescueimage.x86_64 (productname): Likewise.
	* scripts/mk-rescueimage.i386 (productname): Likewise.
	* scripts/mk-images (PRODUCTPATH): Likewise.

	* text.py (stepToClasses): Remove silo stuff.
	* gui.py (stepToClasses): Likewise.
	* iw/silo_gui.py: Remove.
	* textw/silo_text.py: Remove.

	* utils/genhdlist.c: Genericize product dir
	* loader2/loader.c (initProductInfo): Likewise.
	* scripts/splittree.py: Likewise.

	* scripts/check-repository.py: Remove dead code.
	* iw/congrats_gui.py (CongratulationWindow.getScreen): Likewise.

	* partedUtils.py (getRedHatReleaseString): Change to getReleaseString.
	* upgrade.py (findExistingRoots): Method name change.

	* constants.py: Make bugzilla URL more changeable.
	* iw/xconfig_gui.py (XConfigWindow.getNext): Likewise.
	* packages.py (betaNagScreen): Likewise.

	* hdrlist.py (GroupSet.__main__): Nuke some dead code.
	* Makefile (DESTDIR): Likewise.

	* image.py (findIsoImages): Genericize comment.
	* loader2/urlinstall.c: Likewise.
	* urlinstall.py (UrlInstallMethod.__init__): Likewise.

	* loader2/cdinstall.c (findRedHatCD): Change function to
	findAnacondaCD to be more general.
	* loader2/cdinstall.h: Likewise.
	* loader2/urlinstall.c: Likewise.
	* loader2/loader.c: Likewise.

	* loader2/lang.c: Fix for removed instlang line.  Require tabs for
	spacing language information.
	* loader2/lang.h: Remove instlang.

2005-03-28  Peter Jones  <pjones@redhat.com>
	* partitions.py, partRequests.py: don't put snapshot LVs into
	RequestSpecs after all.  Instead, look for children when we
	actually do the lvremove()
	
2005-03-28  Jeremy Katz  <katzj@redhat.com>

	* loader2/loader.c (parseCmdLineFlags): Allow setting mtu on the
	command line (#151789)

2005-03-28  Chris Lumens  <clumens@redhat.com>

	* language.py (setDefault):  Check all forms of the language nick in
	case someone's specified a shorter one.

	* instdata.py:  Remove the Boolean class.  We have a type for that.
	* kickstart.py, packages.py, upgradeclass.py:  Don't use the old
	accessors made obsolete by the boolean type.

2005-03-28  Peter Jones  <pjones@redhat.com>

	* lvm.py (lvlist,vglist,pvlist): make lvm list functions use
	a specified separator, explicitly ask for the fields we need,
	and get sizes without format specifiers
	
	* lvm.py (lvlist): list the "origin" of snapshot LVs
	
	* partRequests.py (LogicalVolumeRequestSpec.__init__): add 
	"snapshots" and "lvorigin" attributes, so we can track lv
	snapshots we need to delete

	* partedUtils.py (DiskSet.findExistingRootPartitions): explictly
	ignore snapshot LVs

	* partitions.py (Partitions.setFromDisk): mark snapshot LV requests
	with lvorigin, and link snapshots to parents.

	* partitions.py (Partitions.deleteDependentRequests): add snapshot
	requests to the delete list when deleting snapshots.

2005-03-28  Peter Jones  <pjones@redhat.com>

	* scripts/mk-rescueimage.i386 scripts/mk-rescueimage.x86_64:
	Make the rescue images identify which arch they're for (#151501)

2005-03-28  Peter Jones  <pjones@redhat.com>

	* loader2/pcmcia.c: don't load "ds" any more, but do load "pcmcia"
	(#151235)

	* loader2/pcmciatest.c: same as above, plus some gcc4 fixes

	* scripts/mk-images.i386: don't load "ds", do load "pcmcia"

2005-03-25  Bill Nottingham  <notting@redhat.com>
	
	* anaconda.spec: Bump version.

	* partedUtils.py (allPartitionTypesDict): add comma

2005-03-24  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* scripts/upd-instroot: Switch theme to Clearlooks

	* partedUtils.py (allPartitionTypesDict): Add new Solaris
	partition label

2005-03-23  Jeremy Katz  <katzj@redhat.com>

	* textw/timezone_text.py (TimezoneWindow.__call__): Mark strings
	for translation.
	* gui.py (ExceptionWindow.__init__): Likewise.
	* iw/network_gui.py (NetworkWindow.handleIPError): Likewise.
	* textw/mouse_text.py (MouseWindow.__call__): Likewise.

2005-03-23  Peter Jones  <pjones@redhat.com>

	* fsset.py (xfsFileSystem.formatDevice): Fix mkfs on xfs,
	from Lars Hamann (#151378)

2005-03-23  Chris Lumens  <clumens@redhat.com>

	* Bump version.

2005-03-23  Jeremy Katz  <katzj@redhat.com>

	* gui.py (readImageFromFile): Fix gtk Deprecation warning.

	* hdrlist.py: Make sure we don't hide groups which just have
	metapkgs (#149182)

	* loader2/selinux.c: Load SELinux booleans (#151896)

2005-03-23  Chris Lumens  <clumens@redhat.com>

	* dispatch.py, exception.py, installclass.py, instdata.py,
	packages.py, iw/package_gui.py, textw/packages_text.py:  Renamed
	langSupport to instLanguage to comply with the class merging in
	language.py.
	* gui.py:  Updated for new language classes.
	* lang-table:  Remove last column, which duplicates information.
	* language.py:  Rewrote to combine Language and InstallTimeLanguage
	into a single class, hopefully simplifying language support.
	* packages.py, iw/language_gui.py:  Use getNickByName as it's more
	descriptive of what's actually going on.
	
	* scripts/upd-instroot  (KEEPFILE, PACKAGES):  Once more, with
	feeling - this time for libgcc.

2005-03-22  Chris Lumens  <clumens@redhat.com>

	* anaconda.spec: Bump version.

	* dispatch.py (installSteps):  Pass id down to network.
	* iw/network_gui.py (getNext, getScreen):  If we're using an
	interactive kickstart install and using DHCP for networking, don't
	obliterate the nameserver settings so we write out a good
	/etc/resolv.conf (#151472).
	* textw/network_text.py:  Accept id parameter.
	* scripts/upd-instroot (PACKAGES):  List libstdc++ in PACKAGES to
	hopefully really fix the tree scrubbing problem.

2005-03-21  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* loader2/Makefile (LANGS): Fix translation getting (Northern
	Sotho broke it)

	* lang-table: Add locale support for Afrikaans, Amharic,
	Indonesian, Northern Sotho and Thai.

	* scripts/splittree.py (Timber.__init__): Add reserve_size for use
	on ppc (#151234)

	* hdrlist.py (EverythingExclude): Exclude Xen kernels from an
	everything install for now (related to #151490)

2005-03-21  Paul Nasrat <pnasrat@redhat.com>

	* loader2/cdinstall.c: Don't unlink device (#151232)

2005-03-16  Chris Lumens  <clumens@redhat.com>

	* iw/congrats_gui.py:  Kill the big empty box on the congrats screen
	to fix word wrap (#149526).
	* scripts/upd-instroot:  rpm needs libstdc++.so.6 in the network
	install images.
	* ui/anaconda.glade:  Don't constrain the button bar so much so the
	buttons can grow a bit for wordy translations (#151208).

2005-03-16  Jeremy Katz  <katzj@redhat.com>

	* packages.py (betaNagScreen): Fix beta nag translation.

2005-03-14  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* scripts/upd-instroot: More finagling for bogl fonts (#149039)

	* scripts/upd-instroot (KEEPFILEGR): Fix for font location 
	changes (#150889)

	* scripts/mk-images (DEBUG): Fix handling of --debug (Ingo
	Pakleppa, #150925)

	* scripts/buildinstall (BUILDINSTALL): Fix passing --debug to
	second buildinstall invocation (Ingo Pakleppa, #150920)

2005-03-14  Paul Nasrat <pnasrat@redhat.com>

	* utils/genhdlist.c: support longer package names - #146820
	* scripts/upd-instroot: sqlite3->sqlite

2005-03-11  Peter Jones  <pjones@redhat.com>

	* gui.py htmlbuffer.py splashscreen.py iw/account_gui.py
        iw/auth_gui.py iw/blpasswidget.py iw/bootdisk_gui.py
        iw/bootloader_advanced_gui.py iw/bootloader_main_gui.py
        iw/bootlocwidget.py iw/checklist.py iw/confirm_gui.py
        iw/congrats_gui.py iw/dependencies_gui.py iw/zfcp_gui.py
        iw/driveorderwidget.py iw/examine_gui.py iw/fdisk_gui.py
        iw/firewall_gui.py iw/installpath_gui.py iw/ipwidget.py
        iw/language_gui.py iw/language_support_gui.py iw/lvm_dialog_gui.py
        iw/mouse_gui.py iw/network_gui.py iw/osbootwidget.py
        iw/package_gui.py iw/partition_dialog_gui.py iw/partition_gui.py
        iw/partition_ui_helpers_gui.py iw/partmethod_gui.py
        iw/pixmapRadioButtonGroup_gui.py iw/progress_gui.py
        iw/raid_dialog_gui.py iw/release_notes_viewer_gui.py
        iw/timezone_gui.py iw/timezone_map_gui.py iw/zipl_gui.py
        iw/upgrade_bootloader_gui.py iw/upgrade_migratefs_gui.py
        iw/upgrade_swap_gui.py iw/xconfig_gui.py
	iw/desktop_choice_gui.py: fix warnings about gtk.TRUE and gtk.FALSE,
	partly based on a patch from Colin Charles.

2005-03-11  Chris Lumens  <clumens@redhat.com>

	* loader/method.c (validIsoImages):  Unmount the loopback mounted ISO
	image to free up the loopback device for later use (#150887).

2005-03-09  Chris Lumens  <clumens@redhat.com>

	* anaconda:  Put a comma between "once" and "DisconnectClients"
	(#150498).

2005-03-09  Peter Jones  <pjones@redhat.com>

	* iutil.py (swapAmount): fix this to actually use the SwapTotal line
	from /proc/meminfo, not just whichever line is at offset 2.  Offset
	2 is now "Buffers:", so this is hopelessly broken.
	* isys.py (ddfile): use '\x00' * num instead of os.read to make a
	string of '\x00' characters.
	* fsset.py: make availRaidLevels be in raid.py instead of here
	* partitions.py: get availRaidLevels from raid.py not fsset.py
	* raid.py: move availRaidLevels here, and put it and getRaidLevels()
	before the module imports, so it doesn't go boom importing sometimes
	when it can't find getRaidLevels()
	* iw/raid_dialog_gui.py: get availRaidLevels from raid.py
	* textw/partition_text.py: get availRaidLevels from raid.py

2005-03-07  Peter Jones  <pjones@redhat.com>

	* anaconda.spec: Bump version.
	* anaconda: add LVM_SUPPRESS_FD_WARNINGS to the environment,
	which should make the lvm tools not complain about open FDs on exec.
	* partRequests.py: comment out not-so-useful log events.
	* autopart.py: still clamp each LV to the pesize.

2005-03-07  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* anaconda.spec (Requires): Require python-urlgrabber

	* scripts/upd-instroot (PACKAGES): urlgrabber stuff is in its own
	package now

2005-03-06  Peter Jones  <pjones@redhat.com>

	* autopart.py: fix growable size log to show IDs instead of
	python's <instance> info.
	log how much free space we're starting with
	don't clamp an lv's total size, instead clamp pv's sizes appropriately
	* lvm.py: remove and recreate all PVs when we do a vgremove, so they
	don't lose 1 PE each time due to an lvm2 bug.
	log what lvm commands are being run, since that doesn't go into lvmout.
	log total vs actual in getVGFreeSpace
	* partRequests.py: get rid of getPVSize, that way can't work (oopsie).
	remove bogus check in getActualSize.
	clamp totalspace for preexisting PVs.
	clamp each PV's size and trim 1 PE off when computing total space.
	don't clamp the LV's overall size.
	* iw/lvm_dialog_gui.py: clamp each PV and trim 1 PE when computing
	availSpaceMB.
	
2005-03-03  Jeremy Katz  <katzj@redhat.com>

	* scripts/upd-instroot (PACKAGESGR): Add new font package names

2005-03-02  Bill Nottingham <notting@redhat.com>

	* upgrade.py: Empty blacklist (#142893)

2005-03-01  Peter Jones  <pjones@redhat.com>
	* anaconda/isys/gzlib/binding.c anaconda/isys/devnodes.c
	  anaconda/isys/lang.c anaconda/isys/isys.c anaconda/isys/pdc.c
	  anaconda/isys/smp.c anaconda/isys/wireless.c
	  anaconda/isys/eddsupport.c anaconda/loader2/loader.c
	  anaconda/loader2/loadermisc.c anaconda/loader2/modules.c
	  anaconda/loader2/moduledeps.c anaconda/loader2/lang.c
	  anaconda/loader2/driverdisk.c anaconda/loader2/mediacheck.c
	  anaconda/loader2/method.c anaconda/loader2/cdinstall.c
	  anaconda/loader2/telnet.c anaconda/loader2/telnetd.c
	  anaconda/loader2/undomounts.c anaconda/loader2/shutdown.c
	  anaconda/loader2/init.c anaconda/utils/snarffont.c
	  anaconda/isomd5sum/libimplantisomd5.c
	  anaconda/isomd5sum/libcheckisomd5.c anaconda/xutils.c:
	silence some gcc4 warnings that stop the build
	* anaconda/isys/Makefile anaconda/isys/Makefile anaconda/Makefile
	  anaconda/utils/Makefile anaconda/loader2/Makefile
	  anaconda/stubs/Makefile anaconda/isomd5sum/Makefile:
	use -D_FORTIFY_SOURCE=2, build genhdlist.o with -Wno-return-type
	as a temporary fix for a gcc4 warning
	* anaconda.spec: Bump version
	
2005-03-01  Chris Lumens  <clumens@redhat.com>

	* loader2/driverdisk.c:  Fix nested case statements in a switch to
	silence a gcc4 warning.

2005-02-28  Chris Lumens  <clumens@redhat.com>

	* anaconda.spec:  Bump version.

2005-02-28  Jeremy Katz  <katzj@redhat.com>

	* anaconda (startVNCServer): Add -once to help ensure Xvnc exits
	when last client of the server exits (#137337)

	* scripts/upd-instroot: More attempts at the bogl stuff.

2005-02-28  Chris Lumens  <clumens@redhat.com>

	* scripts/upd-instroot, scripts/mk-images:  Import new
	libkrb5support.so library.  (#149856)

2005-02-25  Peter Jones <pjones@redhat.com>

	* partRequests.py: All RequestSpec's must be able to guess how much
	space a nested PV can provide.

2005-02-24  Peter Jones <pjones@redhat.com>

	* gui.py: fix "debug" cmdline arg to not traceback.

2005-02-24  Paul Nasrat <pnasrat@redhat.com>

	* loader2/net.c: Do ethtool setup everywhere (#145422)

2005-02-23  Peter Jones  <pjones@redhat.com>

	* iw/lvm_dialog_gui.py iw/raid_dialog_gui.py textw/partition_text.py:
	Add Apple Bootstrap partitions to the lvm/raid ignore lists
	* kickstart.py/partitions.py: kickstart support for the Apple
	Bootstrap part
	
2005-02-23  Chris Lumens  <clumens@redhat.com>

	* iw/account_gui.py, iw/bootdisk_gui.py, iw/confirm_gui.py,
	iw/congrats_gui.py, iw/examine_gui.py, iw/mouse_gui.py,
	iw/silo_gui.py, iw/timezone_gui.py, iw/xconfig_gui.py:  Use
	gui.readImageFromFile instead of deprecated ics methods.
	* partitions.py:  Fix clampPVSize call.  Fix typo in
	getBootableRequest.

2005-02-23  Paul Nasrat  <pnasrat@redhat.com>

	* loader2/cdinstall.c: Eject CD when failing (#147272)

2005-02-21  Chris Lumens  <clumens@redhat.com>

	* iw/network_gui.py  (NetworkWindow.setHostOptionsSensitivity):
	Properly set hostname option sensitivity to follow which option is
	selected (#149116).

2005-02-21  Paul Nasrat  <pnasrat@redhat.com>

	* partitions.py: Deal with multiple Apple Bootstrap 
	partitions (dwmw2)

2005-02-21  Jeremy Katz  <katzj@redhat.com>

	* fsset.py (FileSystemSet.mtab): Don't write out filesystems we
	haven't mounted like /dev/shm (#149091)

	* scripts/upd-instroot: More bogl fixing

2005-02-20  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* scripts/upd-instroot: Attempt to fixup bogl changes (#149039)
	(KEEPFILE): Include all urlgrabber files (#149040)

2005-02-20  Peter Jones <pjones@redhat.com>

	* bootloader.py: remove code to show lilo as a bootloader choice
	* gui-tags.txt: remove reference to lilo_gui.py and LiloWindow
	* installclass.py: remove lilo specific code
	* kickstart.py: remove lilo specific code
	* packages.py: don't choose lilo if "useGrubVal" is 0.
	  - remove lilo.conf from list of anaconda generated files
	* tui-tags.txt: remove references to lilo_text.py and LiloAppendWindow
	* upgrade.py: remove code to add lilo package to install set.
	* kickstart-docs.txt: remove docs about lilo options
	* iw/bootloader_main_gui.py: remove lilo radio button entries
	* iw/bootlocwidget.py: remove lilo drive ordering code
	* textw/bootloader_text.py: remove lilo bootloader choice

2005-02-19  Paul Nasrat <pnasrat@redhat.com>

	* autopart.py, bootdisk/ppc/ofboot.b, fsset.py, installclass.py,
	partedUtils.py, partitions.py, scripts/mk-images.ppc:
	Fedora PPC - autopartitioning (#121266) and G5 (#149081)
	* anaconda.spec: Bump version

2005-02-16  Karsten Hopp  <karsten@redhat.com>

	* scripts/mk-images: the s390 linuxrc creates some devices 
	during boot, shut up warnings about nonexistant groups

2005-02-12  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

2005-02-10  Chris Lumens  <clumens@redhat.com>

	* iw/network_gui.py (NetworkWindow.getScreen):  Always put the
	hostname we got from DHCP (or localhost.localdomain) in the hostname
	entry box (#132826).

2005-02-09  Chris Lumens  <clumens@redhat.com>

	* installclass.py (BaseInstallClass.postAction):  Handle the default
	case where there is no %post script.

	* docs/kickstart-docs.txt:  Synchronize options with kickstart.py.

2005-02-09  Jeremy Katz  <katzj@redhat.com>

	* scripts/upd-instroot (KEEPFILE): urlgrabber is in a noarch
	python package ==> usr/lib/python?.? instead of usr/$LIBDIR

2005-02-08  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version
	
2005-02-08  Chris Lumens  <clumens@redhat.com>

	* dispatch.py:  Pass a handle to the interface into doPostAction.
	* kickstart.py:  Support --erroronfail as an option for %pre and
	%post.  This option will display an error dialog to the screen and
	terminate installation (#124386).
	* packages.py (doPostAction):  Accept a handle to the interface so we
	can pass it into the %post kickstart handler.

	* docs/kickstart-docs.html:  Removed.
	* docs/kickstart-docs.txt:  Cleaned up in preparation for additions.

2005-02-08  Jeremy Katz  <katzj@redhat.com>

	* packages.py: Fix segfault if we have to order packages.

	* scripts/upd-instroot: Add new deps of rpm 4.4 (sqlite3 and neon)
	as well as relevant libs needed for rpm-python 4.4

	* iw/timezone_map_gui.py: Fix-up for new gnome-python2-canvas
	module naming.  Handle fallback for older gnome-python2.
	* iw/partition_gui.py: Likewise.

	* comps.py: Remove old code.

2005-02-08  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

2005-02-08  Paul Nasrat  <pnasrat@redhat.com>

	* findpackageset.py:
	Don't use rpm.archscore as iseries upgrades don't work (#146915)

	* installclass.py, network.py:
	Only configure ksdevice if no --device (#138852)

2005-02-07  Chris Lumens  <clumens@redhat.com>

	* gui.py (helpClicked, refreshHelp):  If help is disabled, don't
	redraw the help pane when the next button is clicked (#145691).

2005-02-07  Matt Wilson  <msw@specifixinc.com>

	* exception.py: Import log handler

2005-02-04  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

2004-02-03  Chris Lumens  <clumens@redhat.com>

	* kickstart.py:  Support setting filesystem options via kickstart
	through a --fsoptions flag (#97560).
	* partRequests.py:  Likewise.
	* isys/isys.py (mount):  Don't try to make a device node for virtual
	filesystems like proc or shm.

2005-02-02  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* installclass.py (BaseInstallClass.setSteps): Nuke languagesupport.

	* packages.py (selectLanguageSupportGroups): Switch to selecting
	metapkgs of a "language-support" group so that language selection
	is just like other package selection

	* product.py: Default product path to Fedora for HEAD

	* urlinstall.py: Fix urlgrabber import up
	* kickstart.py: Likewise.
	* hdrlist.py (groupSetFromCompsFile): Likewise.

	* scripts/upd-instroot: Fix up little bugs in the font reduce stuff

2005-02-02  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* iw/congrats_gui.py (CongratulationWindow.getScreen): Fix up
	reference to media to not get stale (#138688)
	* textw/complete_text.py (FinishedWindow.__call__): Likewise.

	* fsset.py (FileSystemSet.reset): Mount pseudo-filesystems with a
	device name other than "none" for clarity (#136820)
	(Device.__init__): Allow specification of device for generic devices.
	(readFstab): Handle the above changes when reading in fstabs

	* scripts/splittree.py: Allow not creating SRPM CDs by passing
	--src-discs=0.  Based on a patch from Armijn Hemel (#119070)

	* scripts/upd-instroot: Create reduced font for bogl at
	upd-instroot time (#92146, #140208)

	* loader2/Makefile (install): Install the unicode linedraw chars file

2005-02-02  Chris Lumens  <clumens@redhat.com>

	* comps.py (ComponentSet.readCompsFile):  Use urlgrabber instead of
	urllib2 directly.
	* gui.py (InstallControlWindow.loadReleaseNotes):  Likewise.
	* hdrlist.py (groupSetFromCompsFile):  Likewise.
	* kickstart.py (pullRemainingKickstartConfig):  Likewise.
	* urlinstall.py (urlretrieve, UrlInstallMethod.readHeaders):  Likewise.
	* scripts/upd-instroot:  Pull in urlgrabber from yum until it's broken
	out into its own package.

2005-02-02  Jeremy Katz  <katzj@redhat.com>

	* partRequests.py: import math, fix a traceback

2005-01-31  Chris Lumens  <clumens@redhat.com>

	* kickstart.py (KickstartBase.doBootloader):  Don't install a
	bootloader if --location=none is provided in the kickstart config
	file (#146448).

2005-01-26  Chris Lumens  <clumens@redhat.com>

	* gui.py:  Fixed deprecation warnings for gtk.idle_add,
	gtk.idle_remove, gtk.timeout_add, gtk.timeout_remove.
	* iw/installpath_gui.py:  Fixed deprecation warning for
	ics.readPixmap.
	* iw/language_gui.py:  Likewise.
	* iw/welcome_gui.py:  Likewise.
	* iw/package_gui.py:  Fixed deprecation warnings for gtk.idle_add,
	gtk.idle_remove.
	* iw/progress_gui.py:  Fixed deprecation warnings for
	ics.readPixmapDithered.

2005-01-25  Peter Jones  <pjones@redhat.com>

	* loader2/method.c: make validIsoImages check the buildstamp and report
	back if it found invalid entries.
	* loader2/method.h: update prototype for validIsoImages
	* loader2/hdinstall.c: call validIsoImages() with foundinvalid = 0
	* loader2/nfsinstall.c: pass the address of foundinvalid to
	validIsoImages

2005-01-21  Peter Jones  <pjones@redhat.com>

	* lvm.py (lvlist): return size in MB.
	* lvm.py (pvlist): return size in MB.
	* lvm.py (vglist): return size in MB, and pesize in KB.
	* lvm.py (clampLVSizeRequest): use math.ceil and math.floor for
	"roundup", so we don't need to special case "size % pe == 0"
	* lvm.py (clampPVSize): replace the completely broken code that
	fails to implement a size heuristic for lvm1.  We still need to guess
	at the available size, but not here.
	* partRequest.py: add PartitionSpec.getPVSize, which returns a size
	for a Physical Volume given a partition.  If there's no PV in the
	real partition, it guesses the size based on the free space.
	Make VolumeGroupRequestSpec.getActualSize use PartitonSpec.getPVSize
	instead of PartitionSpec.getActualSize
	* partitions.py: make Partitions.setFromDisk use the PE size from
	the volume group, so we don't give the wrong pesize to clamp later
	and create an LV with an invalid size.  Also make it handle lv size
	in MB.
	make Partitions.getAvailLVMPartitions use the PV's size, not the
	partition's size.  It'll estimate the size from the partition's size
	if there's no LV created yet.
	* iw/lvm_dialog_gui.py: use getPVSize instead of getActualSize for
	LVM physical volume sizes.
	                  
2005-01-20  Chris Lumens  <clumens@redhat.com>

	* autopart.py (growLogicalVolumes):  Properly grow logical partitions
	in cases where there's more than one volume group defined (Potential
	fix for #144280, #145145).

2005-01-19  Jeremy Katz  <katzj@redhat.com>

	* isys/pdc.c: Fix build if HDIO_GETGEO_BIG_RAW isn't defined.
	* isys/silraid.c: Likewise.

	* isys/hpt.c: Remove unused include.
	* isys/isys.c: Likewise.

2005-01-19  Chris Lumens  <clumens@redhat.com>

	* anaconda.spec: Bump version.

	* autopart.py (fitConstrained):  Allow logical partitions to go all
	the way to the end of the extended partition.  (Potential fix for
	#101432).

2005-01-18  Chris Lumens  <clumens@redhat.com>

	* iw/partition_gui.py (PartitionWindow.refresh):  Only repopulate the
	partition display screen if we were successful in adding the request.
	(corner case - #137119).

2005-01-14  Chris Lumens  <clumens@redhat.com>

	* fsset.py:  Support bytes per inode on a per-partition basis
	(#57550).
	* kickstart.py:  Likewise.  Also, add --bytes-per-inode as an option
	for logical volumes as well.
	* partRequest.py:  Likewise.

2005-01-13  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

2005-01-13  Peter Jones  <pjones@redhat.com>

	* loader2/loader.c: Initialize terminals 0 to 9 before we start
	bterm, so fbcon won't mess our color palette up when we need them.
	Make the shell on tty2 use LANG=C so the error messages work.

2005-01-13  Jeremy Katz  <katzj@redhat.com>

	* scripts/upd-instroot: Use busybox for our shell instead of ash

	* gui.py (InstallControlWindow.prevClicked): Allow programatically
	going back even if prev isn't active.
	(InstallControlWindow.nextClicked): Likewise.
	(InstallControlState.setHelpButtonEnabled): Fixup for newer help
	handling.
	(InstallControlWindow.refreshHelp): Don't try to show help for a
	non-existent screen

	* gui.py (InstallControlState.findPixmap): Fix warning syntax.
	(InstallControlState.readPixmap): Likewise.
	(InstallControlState.readPixmapDithered): Likewise.

2005-01-13  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* Makefile (SUBDIRS): Add ui subdir.

	* ui/Makefile: Add the makefile.

	* po/Makefile: Handle extracting strings which need translating
	from the glade files.  Requires fixed intltool-extract (0.31.2-3)

	* scripts/upd-instroot: Add libglade2 and pygtk2-libglade2.

	* iw/package_gui.py (PackageSelectionWindow.getScreen): Use
	gui.readImageFromFile instead of deprecated ics methods.

	* splashscreen.py (splashScreenShow): Use gui.readImageFromFile to
	find the splashscreen.

	* gui.py (readImageFromFile): Pull pixbuf handling out of ICS into
	stand-alone methods.
	(getPixbuf): Likewise.
	(findPixbuf): Likewise.
	(InstallControlWindow.createWidgets): Remove the hack of using ics
	for finding the header image.
	(InstallControlState.findPixmap): Deprecate.
	(InstallControlState.readPixmap): Deprecate.
	(InstallControlState.readPixmapDithered): Deprecate.

	* gui.py (findGladeFile): Look for the glade file in the
	appropriate places

2005-01-12  Jeremy Katz  <katzj@redhat.com>

	* iw/congrats_gui.py (CongratulationWindow.__init__): Change the
	handling of the reboot button for the glade stuff.

	* gui.py: Switch to using glade.  Nuke some dead code.  Note that
	low-res isn't currently 100% functional.

	* ui/anaconda.glade: Add glade file for base anaconda UI.

	* ui/: New directory for glade files.

2005-01-12  Chris Lumens  <clumens@redhat.com>

	* loader2: When unable to connect to an HTTP or FTP server for some
	reason, display an error message instead of flashing back to the input
	screen.  (#144546).

2005-01-12  Jeremy Katz  <katzj@redhat.com>

	* anaconda: If graphics mode fails to start in test mode, print
	the exception and then exit.

2005-01-11  Jeremy Katz  <katzj@redhat.com>

	* packages.py (readPackages): Ensure that the Core group exists in
	the comps file (#143930)
	
	* packages.py (readPackages): Remove hack for ia64 stuff added in
	revision 1.169.6.32 as we don't install i386 packages on ia64
	in anaconda anymore.

2005-01-10  Jeremy Katz  <katzj@redhat.com>

	* installclass.py (BaseInstallClass.setSteps): Allow install
	classes to turn off showing upgrade as an option (only really
	applicable if you only have one install class)

	* scripts/upd-instroot (KEEPFILE): Add /usr/sbin/lvm since
	/sbin/lvm is gone

2005-01-05  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* scripts/upd-instroot (KEEPFILEGR): Add libXfixes

2005-01-05  Chris Lumens  <clumens@redhat.com>

	* scripts/mk-images.x86_64:  Write a README like i386 (#143366).

	* scripts/mk-rescueimage.x86_64:  Make a rescue image (#143366).

2005-01-04  Jeremy Katz  <katzj@redhat.com>

	* partedUtils.py (getDefaultDiskType): the default disk type on
	s390 should be dasd, but we can't format those with parted and if
	we get here, we're formatting an fcp disk which should 
	be msdos (#144199)

	* loader2/net.c: Fix multiple dns servers being specified on the
	command line.  Again.  Patch from Matthew Miller (#84409)

	* packages.py (rpmErrorClass.selected): Fix tyop (#143257)

	* loader2/loader.c: Apparently, I can't count (#144006)

2004-12-23  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* isys/isys.py (readSwapLabel_int): Update for newer swap label
	format (#143447)

2004-12-23  Chris Lumens  <clumens@redhat.com>

	* loader2/lang.c  (setupLanguage): Let the user know that they're
	in rescue mode from the very beginning (#136171).

2004-12-23  Jeremy Katz  <katzj@redhat.com>

	* network.py (Network.available): Work around kudzu not being able
	to determine which netdev is which and set hwaddrs anyway (except
	on s390 to avoid setting it on qeth) (#143535)

2004-12-21  Jeremy Katz  <katzj@redhat.com>

	* loader2/init.c (createDevices): Fix silly typo breaking creation
	of devices under /dev

2004-12-21  Chris Lumens  <clumens@redhat.com>

	* fsset.py (turnOnSwap): Print out a more descriptive error
        message if swap partition cannot be mounted (#143000).
	* upgrade.py (createSwapFile,upgradeMountFilesystems): Likewise.

2004-12-21  Jeremy Katz  <katzj@redhat.com>

	* scripts/mk-images (makeinitrd): Just create /dev

	* partIntfHelpers.py (sanityCheckVolumeGroupName): Blacklist root
	as a VG name (#142785)

	* loader2/init.c: tmpfs, not ramfs for /dev

2004-12-20  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* packages.py (InstallCallback.cb): Let people reboot more easily
	in case of bad packages but warn them that it's going to be bad.

	* partitions.py (Partitions.writeKS): Improve quoting of fstypes.
	Patch from Danen Brücker <dbrucker AT modwest DOT com> on
	anaconda-devel-list

	* iw/progress_gui.py: Remove old InstallProgressWindow class to
	avoid confusion with dead code

	* scripts/mk-images (makeinitrd): Remove /dev creation from here,
	it's handled by init now.

	* loader2/linuxrc.s390: Create /dev and devices in it here too

	* loader2/devices.h: Add static list of basic devices to create in 
	/dev.

	* loader2/init.c: Create /dev as a tmpfs so that we don't try to
	bind-mount to the rootfs (#141570)

	* packages.py (doPreInstall): Some finagling for kernel-*devel 
	handling (#143257)
	
	* command-stubs/mknod-stub (main): Add 
	* partedUtils.py (get_partition_name): 
	* iutil.py (makeDriveDeviceNodes): 
	* fsset.py (prepbootFileSystem.getDiskPart): 
	Promise SX8 devices are of the form /dev/sx8/dpn; support this as 
	needed.	

2004-12-16  Paul Nasrat  <pnasrat@redhat.com>

	* loader2/init.c: Extra checking to distinguish hvsi consoles #134397

2004-12-14  Jeremy Katz  <katzj@redhat.com>

	* loader2/driverdisk.c (useKickstartDD): Add support for 
	biosdev in driverdisk directive.  Patch basically from Rez Kabir
	AT dell (#142738)

2004-12-14  Paul Nasrat  <pnasrat@redhat.com>

	* lvm.py: LVM on RAID1 - (#141781)

2004-12-14  Jeremy Katz  <katzj@redhat.com>

	* dispatch.py (installSteps): Pass new arg to desktopchoice

	* iw/desktop_choice_gui.py (DesktopChoiceWindow.getNext): Reset
	package selection to defaults if selected (#142415)
	* textw/desktop_choice_text.py (DesktopChoiceWindow): Likewise.

2004-12-13  Jeremy Katz  <katzj@redhat.com>

	* loader2/module-info: Add tcmscsim (#142692)

2004-12-09  Jeremy Katz  <katzj@redhat.com>

	* fsset.py (getDevFD): Better error handling if we can't create
	the device (#142273)

2004-12-08  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* partitions.py (Partitions.setFromDisk): Adding as a request
	requires more bits, do as a delete (#142304)
	(Partitions.getPartialLVMRequests): Check deletes now

	* partRequests.py (PartialVolumeGroupRequestSpec): It's not really
	a RequestSpec, change accordingly.

2004-12-03  Jeremy Katz  <katzj@redhat.com>

	* partitions.py (Partitions.setFromDisk): Detect partial vgs,
	preserve the name (#139058)

	* lvm.py (partialvgs): Detect partial volume groups.

	* partitions.py (Partitions.getPartialLVMRequests): Get partial
	volume group requests
	(Partitions.isVolumeGroupNameInUse): If we have a partial by the
	requested name, let it be known so that we avoid conflicts.

	* partRequests.py (PartialVolumeGroupRequestSpec.__init__): Add
	partial volume group request for handling non-complete volume
	groups so we avoid conflicting names.

2004-12-01  Jeremy Katz  <katzj@redhat.com>

	* loader2/shutdown.c (shutDown): Make loop while waiting for
	reboot less cpu-intensive to improve user-experience with, eg, VMWare

	* partitions.py (Partitions.writeKS): Include pesize (#141370)

2004-12-01  Paul Nasrat  <pnasrat@redhat.com>

	* fsset.py: Don't trace back for bad/missing / in fstab (#141174)

2004-11-30  Jeremy Katz  <katzj@redhat.com>

	* image.py (findIsoImages): Skip ISOs which don't have a
	product/RPMS dir to avoid some of the confusion if users put the
	source ISOs in the same dir as the binary (#106017)

	* network.py (Network.write): Write WEPKEY in
	/etc/sysconfig/network-scripts/keys-$DEVNAME with mode 0600 (#140645)

	* iw/network_gui.py (NetworkWindow.editDevice): KEY, not 
	WEPKEY (#140645)

2004-11-30  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* autopart.py (setPreexistParts): Fix handling of existing
	partitions on drives which don't have a partition table we
	understand (#131333)

	* loader2/modules.c (lateModuleSort): Fix the list to be big
	enough (#140541, #140876)

2004-11-29  Jeremy Katz  <katzj@redhat.com>

	* iw/zfcp_gui.py: Fix removal and editing of devices to stick (#140559)

2004-11-29  Paul Nasrat  <pnasrat@redhat.com>

	* autopart.py: Fix LVM resizing with new partitions (#141268)

2004-11-29  Karsten Hopp <karsten|redhat.com>

	* loader2/net.c: CTCPROT fix (#133088)

2004-11-23  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.
	
	* upgrade.py (upgradeFindPackages): More iiiimf upgrade (#129218)

	* Makefile.inc (USEDIET): No diet on i386.

	* textw/upgrade_bootloader_text.py
	(UpgradeBootloaderWindow.__call__): Set a default when we can't
	determine the boot loader to avoid indeterminate state (#139603)

	* lvm.py: Don't disable LVM if vgscan, et al segfault (#134263)

	* packages.py (doPreInstall): Don't remove the directories as
	they may not be empty (#133773)

2004-11-22  Jeremy Katz  <katzj@redhat.com>

	* loader2/init.c: Only open /dev/console once.

2004-11-22  Paul Nasrat  <pnasrat@redhat.com>

	* loader2/init.c:
	Improved ppc console detection, based on notting's kudzu 
	patch #135707 (#134397)

2004-11-17  Jeremy Katz  <katzj@redhat.com>

	* scripts/mk-images (makeinitrd): initramfs execs on /init
	instead of /linuxrc

	* scripts/upd-instroot: Update python version in urllib hack

2004-11-16  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* scripts/mk-images: Remove some old code.  Switch makeinitrd to
	create an initramfs instead of an initrd.

	* loader2/loader.c (setupRamdisk): Remove old code.

	* loader2/net.c (setKickstartNetwork): Allow passing --notksdevice
	to your network lines so that you don't try to use them as your
	device (#136903)

	* kickstart.py (KickstartBase.doNetwork): Handle --notksdevice
	here too.

	* loader2/net.c: Allow going back and manually changing the
	network device used even if ksdevice= is passed (#136903)

	* loader2/loader.c: Fix for serial console magic to work again
	with just console= and not explicit serial (#137971)

2004-11-15  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* isys/isys.py (hardDriveDict): ignore IBM *STMF disks as they're
	just the *STMF for booting on a power5 iSeries box (#137920)

2004-11-15  Paul Nasrat  <pnasrat@redhat.com>

	* scripts/splittree.py: Fix error not msg #139391

2004-11-12  Jeremy Katz  <katzj@redhat.com>

	* bootloader.py: Add patch from HJ Lu to fix popping hang in cases
	where boot loader isn't being installed (#138932)

	* packages.py (copyAnacondaLogs): Copy in the X log too per
	pnasrat's request.

2004-11-11  Jeremy Katz  <katzj@redhat.com>

	* iw/partition_ui_helpers_gui.py (mountptchangeCB): Automatically
	set the filesystem type to vfat if the user selects /boot/efi as
	the mountpoint on ia64 (#138580)

	* iw/datacombo.py (DataComboBox.set_active_text): Add convenience
	method to set the active item based on text.

2004-11-10  Jeremy Katz  <katzj@redhat.com>

	* loader2/loader.c: Make serial imply nofb (#134167)

2004-11-10  Paul Nasrat <pnasrat@redhat.com>

	* findpackageset.py:
	Fix for obsoletes E being long. Gratuitously borrowed from rpmUtils

2004-11-09  Jeremy Katz  <katzj@redhat.com>

	* packages.py (doPreInstall): If we go back, we need to try
	unmount /dev, too (#133773)

2004-11-08  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* users.py: whrandom is deprecated, use random instead

	* bootloader.py: remove unneeded import of deprecated whrandom module

	* iw/bootloader_main_gui.py
	(MainBootloaderWindow.changeBootloaderCallback): Fix syntax.

	* loader2/modules.c (lateModuleSort): Fix stack corruption.

	* text.py (InstallInterface.run): Fallback to English for
	languages that can't do text-mode (#138308)

2004-11-08  Karsten Hopp  <karsten@redhat.com>

	* loader2/linuxrc.s390: Don't ask for input if PORTNAME or CTCPROT
	are already set. Use defaults if RUNKS is set for kickstart
	installations

2004-11-07  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* gui.py (MnemonicLabel.__init__): Allow setting of label
	alignment on creation.

	* iw/network_gui.py (NetworkWindow.editDevice): Get rid of 
	warning from pygtk

	* Makefile.inc (PYTHON): devel now has python 2.4

	* loader2/loader.c (parseCmdLineIp): Add patch from Bastien Nocera
	to support parsing of pxelinux IPAPPEND (#134054)

	* scripts/scrubtree: Clean up handling of binaries that we
	want busybox to override.  Inspired by #137948.

	* dispatch.py (installSteps): Add handleMiscPackages steps.
	* installclass.py (BaseInstallClass.setSteps): Likewise.
	* upgradeclass.py (InstallClass.setSteps): Likewise.

	* packages.py (handleMiscPackages): Add a step to do all of the
	miscellaneous package selection based on installer selections
	instead of doing them in doPreInstall so that our needed CD list
	is correct (#122017)

	* loader2/urls.c: Mark strings for translation (#137197)

	* iw/bootloader_main_gui.py: Don't reference boot 
	disks anymore (#135851)
	* iw/bootloader_advanced_gui.py: Likewise.
	* textw/bootloader_text.py: Likewise.

	* iw/network_gui.py (NetworkWindow.editDevice): Add hardware
	address as another way to figure out which device is which (#131814)
	* textw/network_text.py (NetworkDeviceWindow.runScreen): Likewise.

2004-11-05  Jeremy Katz  <katzj@redhat.com>

	* isys/isys.py (readJFSLabel_int): Fix exception handling.
	(readXFSLabel_int): Likewise.
	(readSwapLabel_int): Likewise.

2004-11-04  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* partitions.py (Partitions.writeKS): Have to have sizes as
	integers (#138109)

	* loader2/modules.c (lateModuleSort): Implement an additional sort
	to move drivers to the end of our list of drivers to load.  This
	is handy for, eg, fibre channel so that it doesn't end up at the
	front of the list so that people don't get confused with sda being
	their FC disk.  Also, put ibmvscsic in the list due to #137920

	* loader2/module-info: More qlogic fibre channel adapters

	* upgrade.py (upgradeFindPackages): Key iiimf-le-canna off of
	kinput2-canna-wnn6 instead of just kinput2 (#129218)

2004-11-03  Jeremy Katz  <katzj@redhat.com>

	* iw/network_gui.py (NetworkWindow.setupDevices): 
	* textw/network_text.py (NetworkDeviceWindow.runScreen): 
	Sync behavior of onboot between gui/text (#138011)

	* autopart.py (getAutopartitionBoot): Use
	iutil.hasiSeriesNativeStorage instead of iutil.hasIbmSis()
	* partitions.py (Partitions.sanityCheckAllRequests): Likewise.

	* iutil.py (hasiSeriesNativeStorage): Rename from hasIbmSis(),
	check for ipr as well as ibmsis.

	* packages.py (copyAnacondaLogs): Set permissions on logs (#137963)

	* scripts/scrubtree: Don't use busybox shutdown, poweroff, or
	reboot (#137948)

2004-11-03  Karsten Hopp  <karsten@redhat.com>

	* loader2/linuxrc.s390: Check input for CTCPROT, remove ctc-tty
	from selection

2004-11-02  Jeremy Katz  <katzj@redhat.com>

	* rescue.py (runRescue): Fix traceback with going back in the
	network config (#137844)

2004-11-02  Karsten Hopp  <karsten@redhat.com>

	* loader2/linuxrc.s390: Ask for CTCPROT even if MTU is already
	specified (mainframe)

2004-11-02  Karsten Hopp  <karsten@redhat.com>

	* loader2/linuxrc.s390: Try harder to find out the LCS
	interface name
	
2004-11-02  Jeremy Katz  <katzj@redhat.com>

	* packages.py (handleX11Packages): Handle making sure gdm is
	installed and don't get TWM started if people don't 
	install GNOME (#132743)

	* isys/isys.py (readJFSLabel_int): Better handling of errors while
	trying to read the label (#137846).
	(readXFSLabel_int): Likewise.
	(readSwapLabel_int): Likewise.

2004-11-02  Tim Waugh  <twaugh@redhat.com>

	* loader2/hdinstall.c (mountHardDrive): Pass the correct pointer to
	free() (bug #137533).

2004-10-29  Kristian Høgsberg  <krh@redhat.com>

	* mini-wm.c (main): Write acknowledge token back to anaconda to
	indicate successful connection to the X server.

	* anaconda (startMiniWM): Wait for token before launching other X
	clients (#108777).

2004-10-29  Jeremy Katz  <katzj@redhat.com>

	* loader2/net.c (getWirelessConfig): Allow 128-bit WEP keys (#137447)

2004-10-27  Jeremy Katz  <katzj@redhat.com>

	* upgrade.py (upgradeFindPackages): Fix traceback on cjk 
	upgrades (#137345)

2004-10-26  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* partedUtils.py (DiskSet.openDevices): Don't die if we don't have
	an intf set up yet (#130123, #137239)

	* upgrade.py (upgradeFindPackages): firefox replaces
	mozilla/netscape (#137244)
	
2004-10-26  Jeremy Katz  <katzj@redhat.com>	

	* anaconda.spec: Bump version.

	* kickstart.py (KickstartBase.definePartition): More fixing for
	size of zero (#137120)

	* scripts/mk-images: Use busybox sleep for s390 instead of
	coreutils sleep to avoid needing librt and libpthread (#131167)

2004-10-25  Jeremy Katz  <katzj@redhat.com>

	* loader2/net.c (setKickstartNetwork): Handle onboot 
	properly (#136903)

	* lang-table: Punjabi shouldn't try to do text mode (#137030)

2004-10-24  Jeremy Katz  <katzj@redhat.com>

	* scripts/mk-images.ia64 (IDEMODULES): Add sgiioc4 module for
	Altix cdrom drive (#136730)

2004-10-21  Bill Nottingham <notting@redhat.com>

	* scripts/mk-images: forward port pci.ids trimming from taroon-branch
	
	* utils/trimpciids: new file

2004-10-20  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* scripts/mk-images.ppc: Update to work with new mkzimage so we
	get a netboot.img again (#125129)

2004-10-20  Jeremy Katz  <katzj@redhat.com>	

	* anaconda.spec: Bump version.

2004-10-19  Karsten Hopp <karsten@redhat.com>

	* loader2/linuxrc.s390: make sure to lowercase SUBCHANNELS sourced 
          from the .parm/.conf file, too

2004-10-19  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* loader2/linuxrc.s390: Ensure OSA addresses are lowercase so the
	kernel will like them (#133190)

	* autopart.py (doAutoPartition): Don't hard code VG name for
	auto-partitioned volume groups as VolGroup00 (#134263)

	* partRequests.py (VolumeGroupRequestSpec.__init__): Add autoname
	hack for autopart + lvm.

	* packages.py (handleX11Packages): Make sure that we don't do a
	graphical startup if people run out of space and then go back to
	unselect stuff (#135895)

	* scripts/upd-instroot: Change filenames for Indic fonts

2004-10-18  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.  
	Rebuild against newer bogl to hopefully fix CJK text installs

	* scripts/upd-instroot: Add Bluecurve icon theme index, hopefully
	fixes the icon theme to be correct.

	* bootloader.py: Add a trailing newline to /etc/sysconfig/kernel

	* loader2/urlinstall.c: When using the local stage2.img shortcut,
	ensure that an hdlist exists in the tree they point at to catch
	typos sooner (#135603, #117155, #120101)

	* kickstart.py: Fix traceback using %post logging (Gijs
	Hollestelle, #136154)

2004-10-17  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* iw/partition_gui.py: Fix font size to fit a little bit 
	better (#135731)

	* partitions.py (Partitions.writeKS): Write out size=0 (#135714)

	* kickstart.py (KickstartBase.definePartition): Allow partition
	size to be zero to work better with LVM autopart (#135714)

2004-10-15  Jeremy Katz  <katzj@redhat.com>

	* iw/driveorderwidget.py: Remove empty row leading 
	to traceback (#135944)

	* urlinstall.py: Replace "%" in urls with "%%" to avoid format
	string problems (#135929)

	* rescue.py (runRescue): bind mount /dev (#135860)

	* lang-table: Set Dutch and Danish keyboards by default (#135839)

2004-10-14  Jeremy Katz  <katzj@redhat.com>

	* loader2/module-info: Add s2io 10GbE driver

	* anaconda.spec: Bump version.

2004-10-14  Karsten Hopp  <karsten@redhat.com>

	* loader/linuxrc.s390: Hardcode LCS interface to eth0 (workaround
	until fix with sysfs interface is available)

2004-10-14  Jeremy Katz  <katzj@redhat.com>

	* scripts/upd-instroot: Add fonts for ta, gu, hi, bn and pa (#119283)

	* isys/lang.c (bterm_main): Enable bterm again for testing (#113910)

	* loader2/hdinstall.c: Fix segfault when using biospart for hard
	drive kickstart install.  Patch from Rez Kabir (#135609)

2004-10-13  Jeremy Katz  <katzj@redhat.com>

	* bootloader.py: Write out /etc/sysconfig/kernel with the default
	kernel type and to change the bootloader default on new kernel
	installation (#135161)

2004-10-13  Karsten Hopp <karsten@redhat.com>

	* scripts/mk-images: add /etc/pam.d/remote for telnet logins
	                     (mainframe)

2004-10-12  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* autopart.py (doAutoPartition): Be more certain we have
	one of "our" LVM partitions (#135440)

	* scripts/mk-images.x86_64:
	* scripts/mk-images.i386:
	Remove localboot option from syslinux.cfg for diskboot.img (#135263)

	* upgrade.py (upgradeFindPackages): Handle the great input method
	switch (#129218)

	* network.py (Network.__init__): Don't save the hwaddr 
	for qeth (#135023)

	* packages.py (doPostInstall): Add rhgb in post-install, not
	doInstall (from msw on anaconda-devel-list)

2004-10-12  Bill Nottingham  <notting@redhat.com>

	* loader2/module-info: add ahci, sx8

2004-10-11  Bill Nottingham  <notting@redhat.com>

	* scripts/genlocalelist.py: reverse norwegian blacklisting (#129453)

	* loader2/module-info: add sata_nv, sata_sx4, ixgb; sort sata list

2004-10-07  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* fsset.py (FileSystemSet.makeLVMNodes): Make sure the DM node
	doesn't exist before we create it (#124092)

	* textw/packages_text.py: Sort packages in the group 
	details screen (#123437)

	* scripts/upd-instroot (KEEPFILEGR): Add prelink config (#117867)

2004-10-06  Jeremy Katz  <katzj@redhat.com>

	* iw/lvm_dialog_gui.py (VolumeGroupEditor.updateLogVolStore):
	Don't show "0" as a mountpoint for an LV that's not being mounted
	anywhere (#134867)

	* partRequests.py (RequestSpec.sanityCheckRequest): Call
	sanityCheckMountPoint with new option

	* partIntfHelpers.py (sanityCheckMountPoint): Don't allow
	formatting unless they specify a mountpoint on pre-existing
	partitions (#134865)

	* iw/network_gui.py (NetworkWindow.getScreen): Make Bengali fit a
	little bit better (#134762)

2004-10-06  Karsten Hopp <karsten@redhat.com>

	* partedUtils.py: Fix traceback with unpartitioned FCP disks (mainframe)

2004-10-05  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version:

	* kickstart.py (KickstartBase.readKickstart): Have to reset things
	when we enter a new scriptlet to break multiple scriptlet with
	different interpreters (#134707)

	* isys/devnodes.c: Working scsi disk nodes again (#134709)

2004-10-04  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* scripts/upd-instroot (PACKAGES): Add selinux-policy-targeted so
	that text-mode installs will have working SELinux (#134549)

	* kickstart.py (KickstartBase.readKickstart): Handle having a
	%include inside a scriptlet. (#120252)

	* iw/zfcp_gui.py: Fix zfcp help tag
	(ZFCPWindow.getScreen): Don't change fcp devs until going forward.

2004-10-04  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* isys/devnodes.c: Add support more than 128 SCSI disks
	(#134575).

	* dispatch.py (installSteps): Remove my new typo.

	* partRequests.py (LogicalVolumeRequestSpec.getDevice): Fix
	changing of VG name carrying through to boot loader setup (#132213)

	* partitions.py (Partitions.writeKS): Include PPC PReP boot
	partition (#133934)

	* kickstart.py (KickstartBase.definePartition) 
	Allow specifying the PPC PReP Boot partition as "part prepboot"
	
	* kickstart.py (KickstartBase.setPackageSelection): Fix a thinko
	in the arch-specific case.  Also, add arch-specific removal (#133396)

	* lang-table: Fix Polish (#134554)

	* dispatch.py (installSteps): 
	* installclass.py (BaseInstallClass.setSteps): 
	* upgradeclass.py (InstallClass.setSteps): 
	Add copylogs step.

	* packages.py (copyAnacondaLogs): Copy /tmp/anaconda.log and
	/tmp/syslog to /var/log/anaconda.log and /var/log/anaconda.syslog
	so that they exist post-install (#124370)

	* kickstart.py: Add logging of kickstart scripts with --log to
	%post/%pre, etc.  Note that the filename is relative to use of
	--chroot or not. (#124370)

2004-10-04  Mike McLean  <mikem@redhat.com>
	* scripts/pkgorder: Add some command line options: --file <f> to
	write to a file instead of stdout, --debug to increas the rpm
	verbosity, --product to set the product path.

2004-10-04  Karsten Hopp  <karsten@redhat.com>

	* loader2/linuxrc.s390: fix LCS PORTNAME

2004-10-04  Jeremy Katz  <katzj@redhat.com>

	* iutil.py (makeDriveDeviceNodes): Create more RAID devs (#134438)

2004-10-01  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* installclass.py (BaseInstallClass.setZFCP): Add method for use
	in kickstart setting of zfcp config.

	* kickstart.py (KickstartBase.doZFCP): 
	Add syntax for defining zfcp volumes in kickstart.  
	Use --devnum=, --scsiid=, --wwpn=, --scsilun=, --fcplun=.  
	All are required. (#130070, #133288)
	(KickstartBase.doAutoPart): Skip zfcpconfig (#133288)
	(KickstartBase.definePartition): Skip zfcpconfig (#133288)

	* isys/nfsmount.c (HAVE_NFSV3): Let's use NFSv3.  Will fix using
	the DVD iso via nfsiso (#122032)

	* loader2/module-info: Fix megaraid_mbox module name (#134369)

	* loader2/driverdisk.c: Another uninitialized variable (#133996)

	* scripts/upd-instroot (PACKAGESGR): Actually add the zh_CN fonts
	package (#133330)

2004-09-30  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* po/anaconda.pot, po/*.po:
	refresh-po

	* installclasses/workstation.py:
	* installclasses/rhel_ws.py:	
	Install compat-arch-support and compat-arch-devel-support 
	by default (#133514).
	s/OpenOffice/OpenOffice.org/
	Mozilla isn't the web browser now.
	
	* installclasses/personal_desktop.py:
	* installclasses/server.py:
	* installclasses/rhel_as.py:	
	* installclasses/rhel_es.py:	
	* installclasses/rhel_desktop.py:
	Install compat-arch-support by default (#133514)
	s/OpenOffice/OpenOffice.org/
	Mozilla isn't the web browser now.

	* installclasses/rhel_ws.py: 
	* installclasses/rhel_desktop.py:
	Should say OpenOffice.org, not OpenOffice.

	* upgrade.py (upgradeFindPackages): If this is RHEL, warn if
	they're upgrading from < RHEL 3 (#134523)

	* fsset.py (FileSystemSet.makeLVMNodes): Try to fix upgrade
	traceback (#134258)

	* loader2/net.c: Make changing the DNS server work (#122554)

2004-09-30 Paul Nasrat <pnasrat@redhat.com>

	* findpackageset.py: Improved arch handling  (#133045)

	* findpackageset.py: Fix thinko with missing rpm.ts (#133045)

2004-09-29  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* isys/isys.py (getDasdState): Unformatted dasd seem to show up as
	"basic" now instead of "ready" (#130123)

	* loader2/driverdisk.c: Fix hang with driver disks (#131112, #122952)

	* iw/examine_gui.py: Remove spurious option in upgrade combo (#134058)

	* iw/language_support_gui.py: Avoid changing default language when
	selecting additional languages (#134040)

2004-09-29 Paul Nasrat <pnasrat@redhat.com>

	* findpackageset.py: Better arch handling for biarch system upgrades
	(#133045)

2004-09-28  Jeremy Katz  <katzj@redhat.com>

	* loader2/hdinstall.c (setKickstartHD): 
	* loader2/urlinstall.c (setKickstartUrl): 
	Make sure variables are initialized (#133996).

	* isys/isys.py (readSwapLabel): Add function to read label from
	swap filesystems.
	(readFSLabel): Read swap and JFS labels too.

	* fsset.py: Add support for label'ing swap filesystems (#127892).

	* anaconda: Lack of a mouse if using remote display shouldn't ask
	about the mouse type (#133902)

2004-09-27  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* iw/zfcp_gui.py (ZFCPWindow.getNext): Update FCP config after
	adding SCSI LUNs (#133290)

	* autopart.py (doAutoPartition): Fix LVM traceback if going back
	from not enough space (#131325)

	* isys/isys.py (getGeometry): Remove unused function.
	* isys/isys.c (doGetGeometry): Likewise.

	* anaconda.spec: Bump version.

	* loader2/driverdisk.c: 
	Don't try to mount as ext3 (we don't have the module).
	If we haven't mounted a partition, don't fail the driver 
	disk load (#133036)

	* loader2/hardware.c: we need to always do our busprobe (fixes
	nonet, etc)

	* loader2/loader.c: noprobe ==> nousb and nofirewire

	* kickstart.py: Allow name.arch syntax for selecting a package in
	%packages (#124456)

	* iw/partition_dialog_gui.py (PartitionEditor.run): 
	* iw/raid_dialog_gui.py (RaidEditor.run): 
	Update SpinButtons before getting their value (#133456)

	* iw/language_support_gui.py
	(LanguageSupportWindow.rebuild_combo): Fix traceback when
	unselecting last language (#133164)

	* fsset.py (swapFileSystem.mount): Skip version 0 swaps (#122101)

	* partedUtils.py (sniffFilesystemType): Don't accept version 0
	swaps as swap

	* kickstart.py (KickstartBase.definePartition): strip /dev from
	--onpart (inspired by #121486)

	* loader2/hdinstall.c: skip over /dev if given for path (#121486)

	* lang-table: Use no instead of no-latin1 as 
	Norwegian keyboard (#133757)

	* loader2/loader.c: Load dm-zero, dm-snapshot and dm-mirror (#132001)

	* scripts/mk-images.i386: 
	* scripts/mk-images.ia64: 
	* scripts/mk-images.ppc: 
	* scripts/mk-images.s390: 
	* scripts/mk-images.x86_64:
	Use a variable for raid and lvm modules.  Add dm-zero, dm-snapshot
	and dm-mirror (#132001)

2004-09-24  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* iw/partition_gui.py (PartitionWindow.populate): 
	* textw/partition_text.py (PartitionWindow.populate): 
	Free space isn't active, so we can't just ignore it.  Instead,
	just ignore non-active partitions of < 1 MB (#133425)

	* installclasses/rhel_as.py: 
	* installclasses/rhel_desktop.py: 
	* installclasses/rhel_es.py: 
	* installclasses/rhel_ws.py: 	
	Add installclasses for Red Hat Enterprise Linux (hidden) for
	translation purposes.

	* loader2/Makefile (VERSION): Define VERSION.

	* Makefile: Define VERSION and RELEASE here.

	* Makefile.inc (VERSION):
	* Makefile.inc (RELEASE):
	Move to Makefile

	* loader2/module-info: Add 3w-9xxx (#133525)

	* scripts/upd-instroot: Switch back to default zh_CN font instead
	of the bitmap one (#133330)

2004-09-23  Jeremy Katz  <katzj@redhat.com>

	* loader2/getparts.c (isPartitionName): i2o devices don't use a
	"p" separator (#133379)

	* iutil.py (makeDriveDeviceNodes): Create more RAID devices.
	(makeDriveDeviceNodes): i2o devices don't use a "p" separator (#133379)

	* loader2/cdinstall.c: Don't use PROBE_LOADED for cd probing (#131033)

	* loader2/hardware.c: We can always probe devices with current
	supported hardware. (#132592)

2004-09-23  Bill Nottingham <notting@redhat.com>

	* loader2/module-info, scripts/mk-images.*: fix megaraid module name

2004-09-22  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version.

	* fsset.py (DevptsFileSystem.isMountable): Don't mount /dev/pts
	during install (#133301)

	* scripts/splittree.py: Fix for SRPMs (#122737)

	* bootdisk/i386/syslinux.cfg: 
	* bootdisk/x86_64/syslinux.cfg:
	Add localboot option (#120687).

	* scripts/mk-images.ia64: 
	* scripts/mk-images.x86_64
	Remove spurious fi

	* textw/firewall_text.py: Oops, fix syntax error

2004-09-21  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: Bump version

	* lang-table (Arabic): Don't attempt Arabic text mode (#122228)

	* scripts/upd-instroot (KEEPFILEGR): Add KacstQura font (#122228)

	* scripts/mk-images.x86_64: Add a README in the images/pxeboot dir.

	* scripts/mk-images.ia64: Create an images/pxeboot directory with
	the kernel + initrd used in the boot.img.

	* loader2/net.c (chooseNetworkInterface): Support using
	ksdevice=macaddr instead of ksdevice=link or ksdevice=ethX.
	Should sanitize the mac address to handle most sane formats (#130605).

	* isys/getmacaddr.c (sanitizeMacAddr): Add function.
	* isys/getmacaddr.h (sanitizeMacAddr): Add prototype.

	* Makefile: Get 'make build' working with build system changes.

2004-09-21  Jeremy Katz  <katzj@redhat.com>

	* anaconda.spec: 
	* Makefile:
	* Makefile.inc:
	Rework build to not get date substituted in with
	a snapbuild.  Include changes explicitly in package changelog.

